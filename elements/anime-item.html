<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-material/paper-material.html">
<link rel="import" href="../bower_components/paper-styles/paper-styles.html">

<dom-module id="anime-item">
    <style>
        :host {
            display: block;
        }
        #itemContainer {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        #itemDetails {
            position: absolute;
            top: calc(100% - 30px);
            min-height: 60px;
            max-height: 50%;
            overflow-y: hidden;
            height: auto;
            padding-bottom: 30px;
            width: 100%;
            background: linear-gradient(rgba(244,244,244,0),rgba(244,244,244,0.4) 20px,rgba(244,244,244,0.8));
            transition: transform 0.5s ease-out;
        }
        #itemDetailsSub {
            position: relative;
            top: 30px;
            width: 100%;
            text-align: center;
            @apply(--paper-font-body2)
        }
        #itemContainer:hover > #itemDetails {
            transform: translateY(calc(-100% + 30px));
        }
        #itemContainer:hover > #itemTitle {
            opacity: 0;
        }
        #itemTitle {
            height: auto;
            width: 100%;
            background: rgba(244,244,244,0.2);
            text-shadow: 0px 0px 10px rgba(255,255,255,0.6), 0px 0px 30px rgba(255,255,255,0.4), 0px 0px 50px rgba(255,255,255,0.3), 0px 0px 180px rgba(255,255,255,0.3);
            text-align: center;
            transition: opacity 0.5s ease-out;
            font-weight: 600 !important;
            color: black;
            @apply(--paper-font-subhead)
        }
    </style>
    <template>
        <paper-material id="itemContainer" elevation="4">
            <div id="itemTitle">[[animeName]]</div>
            <div id="itemDetails">
                <div id="itemDetailsSub"><content></content></div>
            </div>
        </paper-material>
    </template>
</dom-module>

<script>
    Polymer({
        is: 'anime-item',
        properties: {
            "animeName": {
                type: String
            },
            "animeImage": {
                type: String
            },
            "animeId": {
                type: Number,
                reflectToAttribute: true
            }
        },
        ready: function() {
            this.updateBackgroundImg(this.animeImage);
        },
        updateBackgroundImg: function(url) {
            this.$.itemContainer.style.background = "url("+url+")";
        },
    });
</script>