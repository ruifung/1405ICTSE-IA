<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-material/paper-material.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-from-right-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-right-animation.html">

<dom-module id="anime-details">
    <style>
 
        #dialog {
            display: flex;
            box-shadow: none;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0);
            justify-content: center;
            
        }
        #dialogContent {
            display: inline-block;
            pointer-events: auto;
            margin-top: auto;
            margin-bottom: auto;
            background-color: white;
            width: 80%;
            height: 80%;
            max-height: 80%;
            max-width: 80%;
            word-wrap: break-word;       /* Internet Explorer 5.5+ */
            word-break: break-all;
            white-space: normal;
        }
    </style>
    <template>
        <paper-dialog id="dialog" with-backdrop entry-animation="slide-from-right-animation" exit-animation="slide-right-animation">
            <paper-material id="dialogContent" elevation="5">
            </paper-material>
        </paper-dialog>
    </template>
</dom-module>
<script>
    Polymer({
        is: "anime-details",
        properties: {
            animeId: {
                type: Number
            },
            anime: {
                type: Object,
                notify: true
            }
        },
        listeners: {
            click: "_clickHandler"
        },
        ready: function() {
            this.close();
        },
        //METHODS
        open: function(anime) {
            this.$.dialogContent.innerHTML = JSON.stringify(anime);
            this.$.dialog.open();
        },
        close: function() {
            this.$.dialog.close();
        },
        cancel: function() {
            this.$.dialog.cancel();
        },
        _clickHandler: function(e) {
            if(e.target !== this.$.dialogContent) {
                this.$.dialog.cancel();
            }
        }
    });
</script>